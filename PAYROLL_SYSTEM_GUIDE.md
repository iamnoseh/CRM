# üìö –†–æ“≥–Ω–∞–º–æ–∏ –°–∏—Å—Ç–µ–º–∞–∏ –ú–æ–ª–∏—è–≤”£ (Payroll System Guide)

–ò–Ω “≥—É“∑“∑–∞—Ç —Ç–∞—Ä–∑–∏ –∏—Å—Ç–∏—Ñ–æ–¥–∞–∏ —Å–∏—Å—Ç–µ–º–∞–∏ –Ω–∞–≤–∏ –º–æ–ª–∏—è–≤–∏—Ä–æ –±–∞—Ä–æ–∏ –ê–¥–º–∏–Ω“≥–æ –≤–∞ —Ç–∞“≥–∏—è–≥–∞—Ä–æ–Ω–∏ Frontend —à–∞—Ä“≥ –º–µ–¥–∏“≥–∞–¥.

---

## üë®‚Äçüíº –ë–∞—Ä–æ–∏ –ê–¥–º–∏–Ω“≥–æ (–ß”£ –≥—É–Ω–∞ –∏—Å—Ç–∏—Ñ–æ–¥–∞ –±—É—Ä–¥–∞–Ω)

–°–∏—Å—Ç–µ–º–∞–∏ –º–æ–ª–∏—è–≤”£ –±–∞ —à—É–º–æ –∏–º–∫–æ–Ω –º–µ–¥–∏“≥–∞–¥, –∫–∏ –º–∞–æ—à–∏ –æ–º”Ø–∑–≥–æ—Ä–æ–Ω (Mentor) –≤–∞ –∫–æ—Ä–º–∞–Ω–¥–æ–Ω—Ä–æ (Employee) –±–æ 4 –Ω–∞–º—É–¥ “≥–∏—Å–æ–± –∫—É–Ω–µ–¥:
1. **Fixed (–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)** - –ú–∞–æ—à–∏ —Å–æ–±–∏—Ç “≥–∞—Ä –º–æ“≥.
2. **Hourly (–ü–æ—á–∞—Å–æ–≤–∞—è)** - –ú–∞–æ—à –¥–∞—Ä –∞—Å–æ—Å–∏ —Å–æ–∞—Ç“≥–æ–∏ –∫–æ—Ä”£.
3. **Percentage (–ü—Ä–æ—Ü–µ–Ω—Ç–Ω–∞—è)** - –§–æ–∏–∑ –∞–∑ –ø–∞—Ä–¥–æ—Ö—Ç“≥–æ–∏ –¥–æ–Ω–∏—à“∑”Ø—ë–Ω.
4. **Mixed (–°–º–µ—à–∞–Ω–Ω–∞—è)** - –û–º–µ—Ö—Ç–∞–∏ “≥–∞–º–∞–∏ –Ω–∞–º—É–¥“≥–æ.

### “ö–∞–¥–∞–º“≥–æ–∏ –ê—Å–æ—Å”£:

#### 1. –≠“∑–æ–¥–∏ –®–∞—Ä—Ç–Ω–æ–º–∞ (Contract)
–ü–µ—à –∞–∑ “≥–∞–º–∞, –±–æ—è–¥ –±–∞—Ä–æ–∏ “≥–∞—Ä —è–∫ –∫–æ—Ä–º–∞–Ω–¥ —à–∞—Ä—Ç–Ω–æ–º–∞ —Å–æ–∑–µ–¥.
- **–î–∞—Ä –∫—É“∑–æ:** –°–∞“≥–∏—Ñ–∞–∏ "–ö–æ—Ä–º–∞–Ω–¥–æ–Ω" —ë "–û–º”Ø–∑–≥–æ—Ä–æ–Ω" -> "–®–∞—Ä—Ç–Ω–æ–º–∞".
- **–ß”£ –±–æ—è–¥ –∫–∞—Ä–¥:** –ù–∞–º—É–¥–∏ –º–∞–æ—à (Salary Type) –≤–∞ –º–∏“õ–¥–æ—Ä–∏ –º–∞–æ—à—Ä–æ –∏–Ω—Ç–∏—Ö–æ–± –∫—É–Ω–µ–¥.

#### 2. –°–∞–±—Ç–∏ –°–æ–∞—Ç“≥–æ–∏ –ö–æ—Ä”£ (Work Logs)
–ê–≥–∞—Ä –∫–æ—Ä–º–∞–Ω–¥ –º–∞–æ—à–∏ —Å–∞–æ—Ç–±–∞–π—ä (Hourly) —ë –æ–º–µ—Ö—Ç–∞ (Mixed) –≥–∏—Ä–∞–¥, –±–æ—è–¥ —Å–æ–∞—Ç“≥–æ–∏ –∫–æ—Ä–∏–∏ ”Ø—Ä–æ –≤–æ—Ä–∏–¥ –∫—É–Ω–µ–¥.
- **–î–∞—Ä –∫—É“∑–æ:** –°–∞“≥–∏—Ñ–∞–∏ "–¢–∞–±–µ–ª" —ë "–°–∞–±—Ç–∏ –∫–æ—Ä".
- **–ß”£ –±–æ—è–¥ –∫–∞—Ä–¥:** –°–∞–Ω–∞, –º–∏“õ–¥–æ—Ä–∏ —Å–æ–∞—Ç –≤–∞ —à–∞—Ä“≥—Ä–æ –≤–æ—Ä–∏–¥ –∫—É–Ω–µ–¥.

#### 3. –ü–µ—à–ø–∞—Ä–¥–æ—Ö—Ç (Advances)
–ê–≥–∞—Ä –±–∞ –∫–æ—Ä–º–∞–Ω–¥ –ø–µ—à–ø–∞—Ä–¥–æ—Ö—Ç (–∞–≤–∞–Ω—Å) –¥–æ–¥–∞–Ω –ª–æ–∑–∏–º –±–æ—à–∞–¥.
- **–î–∞—Ä –∫—É“∑–æ:** –°–∞“≥–∏—Ñ–∞–∏ "–ê–≤–∞–Ω—Å“≥–æ".
- **–ß”£ –±–æ—è–¥ –∫–∞—Ä–¥:** –ú–∏“õ–¥–æ—Ä–∏ –ø—É–ª –≤–∞ –º–æ“≥–µ, –∫–∏ –∞–∑ –æ–Ω –±–∞—Ä–≥–∞—Ä–¥–æ–Ω–∏–¥–∞ –º–µ—à–∞–≤–∞–¥ (Target Month), –∏–Ω—Ç–∏—Ö–æ–± –∫—É–Ω–µ–¥.

#### 4. “≤–∏—Å–æ–±–∏ –ú–∞–æ—à (Calculation)
–î–∞—Ä –æ—Ö–∏—Ä–∏ –º–æ“≥ –º–∞–æ—à—Ä–æ “≥–∏—Å–æ–± –∫—É–Ω–µ–¥.
- **–î–∞—Ä –∫—É“∑–æ:** –°–∞“≥–∏—Ñ–∞–∏ "–ú–∞–æ—à" (Payroll).
- **–ß”£ –±–æ—è–¥ –∫–∞—Ä–¥:** –¢—É–≥–º–∞–∏ "“≤–∏—Å–æ–± –∫–∞—Ä–¥–∞–Ω" (Calculate)-—Ä–æ –∑–µ—Ä –∫—É–Ω–µ–¥. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∫”£ —Å–æ–∞—Ç“≥–æ, —Ñ–æ–∏–∑“≥–æ –≤–∞ “õ–∞—Ä–∑“≥–æ—Ä–æ “≥–∏—Å–æ–± –º–µ–∫—É–Ω–∞–¥.

#### 5. –ò–ª–æ–≤–∞–∏ –ë–æ–Ω—É—Å —ë “∂–∞—Ä–∏–º–∞
–ë–∞—ä–¥–∏ “≥–∏—Å–æ–± –∫–∞—Ä–¥–∞–Ω, —à—É–º–æ –º–µ—Ç–∞–≤–æ–Ω–µ–¥ –Ω–∞—Ç–∏“∑–∞—Ä–æ –±–∏–Ω–µ–¥ –≤–∞ –∞–≥–∞—Ä –ª–æ–∑–∏–º –±–æ—à–∞–¥, –±–æ–Ω—É—Å —ë “∑–∞—Ä–∏–º–∞ –∏–ª–æ–≤–∞ –∫—É–Ω–µ–¥.

#### 6. –¢–∞—Å–¥–∏“õ –≤–∞ –ü–∞—Ä–¥–æ—Ö—Ç
- **–¢–∞—Å–¥–∏“õ (Approve):** –í–∞“õ—Ç–µ “≥–∞–º–∞ —á–∏–∑ –¥—É—Ä—É—Å—Ç –∞—Å—Ç, –º–∞–æ—à—Ä–æ "–¢–∞—Å–¥–∏“õ" –∫—É–Ω–µ–¥.
- **–ü–∞—Ä–¥–æ—Ö—Ç (Pay):** –í–∞“õ—Ç–µ –ø—É–ª—Ä–æ –±–∞ –∫–æ—Ä–º–∞–Ω–¥ –¥–æ–¥–µ–¥, —Ç—É–≥–º–∞–∏ "–ü–∞—Ä–¥–æ—Ö—Ç"-—Ä–æ –∑–µ—Ä –∫—É–Ω–µ–¥ –≤–∞ –Ω–∞–º—É–¥–∏ –ø–∞—Ä–¥–æ—Ö—Ç—Ä–æ (–Ω–∞“õ–¥, –∫–∞—Ä—Ç–∞) –∏–Ω—Ç–∏—Ö–æ–± –∫—É–Ω–µ–¥.

---

## üíª –ë–∞—Ä–æ–∏ –¢–∞“≥–∏—è–≥–∞—Ä–æ–Ω–∏ Frontend (Integration Guide)

### 1. Enums (–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫“≥–æ)

**SalaryType:**
- `0`: Fixed
- `1`: Hourly
- `2`: Percentage
- `3`: Mixed

**PayrollStatus:**
- `0`: Draft (–ß–µ—Ä–Ω–æ–≤–∏–∫) - “≤–∏—Å–æ–± —à—É–¥–∞–∞—Å—Ç, –∞–º–º–æ —Ç–∞—Å–¥–∏“õ –Ω–∞—à—É–¥–∞–∞—Å—Ç.
- `1`: Calculated (–†–∞—Å—Å—á–∏—Ç–∞–Ω–æ) - “≤–∏—Å–æ–±–∏ –∞–≤–≤–∞–ª–∏—è.
- `2`: Approved (–£—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ) - –¢–∞—Å–¥–∏“õ —à—É–¥–∞–∞—Å—Ç, —Ç–∞“ì–π–∏—Ä –¥–æ–¥–∞–Ω –º—É–º–∫–∏–Ω –Ω–µ—Å—Ç.
- `3`: Paid (–í—ã–ø–ª–∞—á–µ–Ω–æ) - –ü—É–ª –¥–æ–¥–∞ —à—É–¥–∞–∞—Å—Ç.
- `4`: Cancelled (–û—Ç–º–µ–Ω–µ–Ω–æ)

### 2. API Endpoints –ê—Å–æ—Å”£

#### Contracts (`/api/payrollcontract`)
- `POST /` - –≠“∑–æ–¥–∏ —à–∞—Ä—Ç–Ω–æ–º–∞–∏ –Ω–∞–≤.
- `GET /mentor/{mentorId}` - –ì–∏—Ä–∏—Ñ—Ç–∞–Ω–∏ —à–∞—Ä—Ç–Ω–æ–º–∞–∏ —Ñ–∞—ä–æ–ª–∏ –æ–º”Ø–∑–≥–æ—Ä.
- `GET /employee/{employeeUserId}` - –ì–∏—Ä–∏—Ñ—Ç–∞–Ω–∏ —à–∞—Ä—Ç–Ω–æ–º–∞–∏ —Ñ–∞—ä–æ–ª–∏ –∫–æ—Ä–º–∞–Ω–¥.
- `PUT /{id}` - –¢–∞“ì–π–∏—Ä –¥–æ–¥–∞–Ω–∏ —à–∞—Ä—Ç–Ω–æ–º–∞.

#### Work Logs (`/api/payroll/worklog`)
- `POST /worklog` - –ò–ª–æ–≤–∞ –∫–∞—Ä–¥–∞–Ω–∏ —Å–æ–∞—Ç–∏ –∫–æ—Ä”£.
- `GET /worklog` - –ì–∏—Ä–∏—Ñ—Ç–∞–Ω–∏ —Ä”Ø–π—Ö–∞—Ç–∏ –∫–æ—Ä“≥–æ (—Ñ–∏–ª—Ç—Ä –±–æ `month`, `year`, `mentorId`).
- `DELETE /worklog/{id}` - –ù–µ—Å—Ç –∫–∞—Ä–¥–∞–Ω.

#### Calculation & Management (`/api/payroll`)
- **“≤–∏—Å–æ–± –∫–∞—Ä–¥–∞–Ω:** `POST /calculate` (Body: `{ mentorId/employeeId, month, year }`). –ò–Ω endpoint "Idempotent" –∞—Å—Ç - –∞–≥–∞—Ä –¥—É–±–æ—Ä–∞ –∑–µ—Ä –∫—É–Ω–∞–Ω–¥, –∞–∑ –Ω–∞–≤ “≥–∏—Å–æ–± –º–µ–∫—É–Ω–∞–¥ (–∞–≥–∞—Ä —Å—Ç–∞—Ç—É—Å Draft –±–æ—à–∞–¥).
- **–†—É–π—Ö–∞—Ç:** `GET /records` (—Ñ–∏–ª—Ç—Ä –±–æ –º–æ“≥/—Å–æ–ª).
- **–ë–æ–Ω—É—Å/“∂–∞—Ä–∏–º–∞:** `POST /bonus-fine` (–ë–∞—Ä–æ–∏ —Å–∞–±—Ç“≥–æ–∏ Draft/Calculated).
- **–¢–∞—Å–¥–∏“õ:** `POST /{id}/approve` (–¢–∞–Ω“≥–æ Admin/Manager).
- **–ü–∞—Ä–¥–æ—Ö—Ç:** `POST /{id}/pay` (Body: `{ paymentMethod, notes }`).

#### Advances (`/api/payroll/advance`)
- `POST /advance` - –î–æ–¥–∞–Ω–∏ –∞–≤–∞–Ω—Å.
- `GET /advances` - –¢–∞—ä—Ä–∏—Ö–∏ –∞–≤–∞–Ω—Å“≥–æ.
- `GET /advances/pending-amount` - –ì–∏—Ä–∏—Ñ—Ç–∞–Ω–∏ —Å—É–º–º–∞–∏ —É–º—É–º–∏–∏ –∞–≤–∞–Ω—Å“≥–æ–∏ –±–∞—Ä–≥–∞—Ä–¥–æ–Ω–∏–¥–∞–Ω–∞—à—É–¥–∞ –±–∞—Ä–æ–∏ –º–æ“≥–∏ “∑–æ—Ä”£.

### 3. –õ–æ–≥–∏–∫–∞–∏ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å (UI Logic)
- **“≤–æ–ª–∞—Ç–∏ Draft:** –ò–º–∫–æ–Ω–∏ –∏–ª–æ–≤–∞–∏ "Bonus", "Fine" –≤–∞ "Redo Calculation" –±–æ—è–¥ —Ñ–∞—ä–æ–ª –±–æ—à–∞–¥.
- **“≤–æ–ª–∞—Ç–∏ Approved:** “≤–∞–º–∞–∏ —Ç—É–≥–º–∞“≥–æ–∏ —Ç–∞“ì–π–∏—Ä–¥–∏“≥”£ (Edit) –±–æ—è–¥ “ì–∞–π—Ä–∏—Ñ–∞—ä–æ–ª (Disabled) —à–∞–≤–∞–Ω–¥. –¢–∞–Ω“≥–æ —Ç—É–≥–º–∞–∏ "Pay" —Ñ–∞—ä–æ–ª –º–µ–º–æ–Ω–∞–¥.
- **“≤–æ–ª–∞—Ç–∏ Paid:** –¢–∞–Ω“≥–æ –±–∞—Ä–æ–∏ –Ω–∞–º–æ–∏—à (Read-only).

### 4. –ù–∞–º—É–Ω–∞–∏ Workflow (–°–µ–Ω–∞—Ä–∏—è)
1. –ö–ª–∏–µ–Ω—Ç —à–∞—Ä—Ç–Ω–æ–º–∞—Ä–æ –º–µ—Å–∞–Ω“∑–∞–¥ (`GET /contract/mentor/{id}`).
2. –ê–≥–∞—Ä –Ω–∞–±–æ—à–∞–¥, —Ç–∏—Ä–µ–∑–∞–∏ "Create Contract" –º–µ–±–∞—Ä–æ—è–¥.
3. –ê–¥–º–∏–Ω —Å–æ–∞—Ç“≥–æ—Ä–æ –ø—É—Ä –º–µ–∫—É–Ω–∞–¥ (–¢–∞–±–µ–ª).
4. –î–∞—Ä –æ—Ö–∏—Ä–∏ –º–æ“≥ –±–∞ —Å–∞“≥–∏—Ñ–∞–∏ "Payroll" –º–µ–≥—É–∑–∞—Ä–∞–¥.
5. –¢—É–≥–º–∞–∏ "Calculate All" (`POST /calculate-all`) -—Ä–æ –∑–µ—Ä –º–µ–∫—É–Ω–∞–¥.
6. –†”Ø–π—Ö–∞—Ç–∏ –º–∞–æ—à“≥–æ –ø–∞–π–¥–æ –º–µ—à–∞–≤–∞–¥.
7. –ê–¥–º–∏–Ω “≥–∞—Ä —è–∫–µ—Ä–æ –º–µ–∫—É—à–æ—è–¥, –±–æ–Ω—É—Å –º–µ–¥–∏“≥–∞–¥, –≤–∞ "Approve" –º–µ–∫—É–Ω–∞–¥.
8. –ö–∞—Å—Å–∏—Ä "Pay" –º–µ–∫—É–Ω–∞–¥.
